<!-- https://stackoverflow.com/questions/37770620/how-to-include-markdown-md-files-inside-html-files -->
<!-- Lightweight client-side loader that feature-detects and load polyfills only when necessary -->
<script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2/webcomponents-loader.min.js"></script>

<!-- Load the element definition -->
<script type="module" src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@1/src/zero-md.min.js"></script>

<title>WIP</title>

<div class="grid-container">
    <div class="grid-child">
        <zero-md id="leftmd" class="side" src="./landing.md"></zero-md>
    </div>

    <div class="grid-child">
        <!-- <zero-md id="rightmd" class="side" src="pages/example1.md"></zero-md> -->

        <!-- This list could be dynamiclly generated, but for now it is not -->
        <div class="list-group">
            <a href="#example1" class="list-group-item">
                <b class="list-group-item-heading">Java</b>
                <p class="list-group-item-text">coffee</p>
            </a>
            <a href="#example2" class="list-group-item">
                <b class="list-group-item-heading">Python</b>
                <p class="list-group-item-text">snek language</p>
            </a>
            <a href="#example3" class="list-group-item">
                <b class="list-group-item-heading">placeholder</b>
                <p class="list-group-item-text">loreum ipsum</p>
            </a>
        </div>
    </div>
</div>

<style>
    .grid-container {
        display: grid;
        grid-template-columns: 1fr 0.35fr;
        grid-gap: 20px;
    }

    .list-group-item:first-child {
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
    }

    .list-group-item {
        position: relative;
        display: block;
        padding: 1em;
        margin-bottom: -1px;
        background-color: #fff;
        border: 1px solid #ddd;
    }

    a.list-group-item {
        color: black;
        text-decoration: none;
    }

    a.list-group-item * {
        display: block;
        margin-top: 0;
        margin-bottom: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    }

    .list-group-item:last-child {
        margin-bottom: 0;
        border-bottom-right-radius: 4px;
        border-bottom-left-radius: 4px;
    }

    html {
        overflow-y: scroll;
    }
</style>

<script>
    window.location.hash = "";
    window.onhashchange = function () {
        const panel = document.getElementById("leftmd")
        panel.setAttribute('src', `pages/${window.location.hash.slice(1)}.md`)
        panel.render();
    }
    // const repo_files = await (await fetch("https://api.github.com/repos/Bejofo/programming-manual/contents/pages")).json();
    // for(let file of repo_files){
    //     const newLink = document.createElement("a");
    //     newLink.href = file.download_url;
    //     href = '#'+file.name.split(".")[0];
    //     const newListEl = document.createElement("li");
    //     newListEl.appendChild(newLink);
    //     document.getElementById("pls").appendChild(newListEl);
    // }
</script>